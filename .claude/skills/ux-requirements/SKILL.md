---
name: ux-requirements
description: UI/UX 요구사항을 사용자와 대화형으로 도출하고, 구현 가능한 명세서를 생성하는 스킬. UI 기능 설계, UX 플로우 정의, 컴포넌트 요구사항 정리 요청 시 사용.
---

# UX Requirements 도출 스킬

사용자와 대화하며 UI/UX 요구사항을 **구현 가능한 명세서**로 변환합니다.

## 핵심 원칙

1. **사용자가 결정한다** — AI가 디자인을 결정하지 않는다. 선택지를 제시하고 사용자가 고른다.
2. **구체적으로 질문한다** — "어떻게 할까요?"가 아니라 "A vs B 중 어떤 방식?"으로 묻는다.
3. **텍스트 와이어프레임으로 확인받는다** — 말로만 합의하지 않고 ASCII 와이어프레임으로 시각화한다.
4. **구현 제약을 사전 반영한다** — Tailwind 정적 분석 한계, 토큰 시스템 등 기술 제약을 설계 단계에서 고려한다.

---

## Phase 1: 컨텍스트 파악

사용자가 기능을 설명하면, 먼저 **기존 코드를 탐색**한다.

### 체크리스트

- [ ] 관련 기존 컴포넌트 확인 (유사 기능이 이미 있는가?)
- [ ] 사용할 API 엔드포인트 확인 (Swagger `docs/swagger/*.yaml`)
- [ ] 데이터 모델 확인 (`lib/types.ts`, `lib/types/*.ts`)
- [ ] Mock 데이터 동작 확인 (`lib/mock-*.ts`)
- [ ] 현재 프로세스 상태 흐름 확인 (`lib/process/calculator.ts`)

### 출력

```markdown
## 현재 상태 요약
- API: [사용 가능한 엔드포인트 목록 + 상태]
- UI: [기존 컴포넌트 현황]
- 데이터: [관련 타입/모델]
```

---

## Phase 2: 사용자 요구사항 구조화

사용자의 자연어 요구사항을 **구조화된 항목**으로 분해한다.

### 분해 규칙

각 요구사항을 아래 형식으로 정리:

```markdown
| # | 요구사항 | 현재 상태 | 갭 | 필요 작업 |
|---|---------|----------|-----|----------|
| 1 | [사용자가 말한 것] | [현재 구현 상태] | [차이] | [해야 할 일] |
```

### 질문 규칙

모든 요구사항에 대해 **결정이 필요한 사항**을 도출한다.

질문 작성 원칙:
- **선택지를 제시한다** — "어떻게 표시할까요?" ❌ → "A: 인라인 텍스트 / B: 모달 / C: 토스트 중 어떤 방식?" ✅
- **기술 제약을 미리 알린다** — "A는 가능하지만 B는 Tailwind 한계로 추가 작업 필요" 등
- **한 번에 3~5개** 질문한다 — 너무 많으면 사용자가 지침, 너무 적으면 후속 질문 반복
- **우선순위를 구분한다** — 구현에 필수적인 질문과 디테일 질문을 분리

---

## Phase 3: 디자인 결정

사용자의 답변을 받아 구체적인 디자인을 확정한다.

### 와이어프레임 규칙

모든 화면 상태를 **ASCII 와이어프레임**으로 그린다:

```
┌─ 컴포넌트명 ─────────────────────────────────────┐
│                                                    │
│  [요소 설명]                    [버튼/액션]         │
│                                                    │
│  ── 상태: XXXX일 때 ─────────────────────────── │
│  │ [상태별 내용]                                 │ │
│  └───────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────┘
```

필수 와이어프레임:
- **초기 상태** (데이터 없음)
- **로딩/진행 중** (비동기 작업)
- **성공 상태**
- **실패/에러 상태**
- **엣지 케이스** (빈 목록, 긴 텍스트, 다수 항목 등)

### 상태 전이표

화면 상태 간 전환을 표로 정리한다:

```markdown
| 상태 | 트리거 | 다음 상태 | UI 변화 |
|------|--------|----------|---------|
| 초기 | 버튼 클릭 | 로딩 | spinner + disabled |
| 로딩 | API 완료 | 성공/실패 | 결과 표시 |
```

### 인터랙션 패턴 결정

각 인터랙션에 대해 사용자 확인을 받는다:

| 인터랙션 | 선택지 예시 |
|----------|-----------|
| 로딩 표시 | spinner / skeleton / progress bar / 진행률 텍스트 |
| 상태 변화 알림 | toast / 배너 / 애니메이션 / 브라우저 알림 |
| 목록 표시 | 테이블 / 카드 리스트 / 아코디언 |
| 상세 보기 | 인라인 펼침 / 모달 / 드로어 / 페이지 이동 |
| 빈 상태 | 텍스트만 / 일러스트 + 텍스트 / CTA 버튼 포함 |
| 접힘/펼침 | 기본 접힘 + 펼치기 버튼 / 기본 펼침 + 접기 버튼 |

---

## Phase 4: 명세서 생성

모든 결정이 완료되면 **구현 팀에 전달 가능한 명세서**를 생성한다.

### 명세서 구조 (필수 섹션)

```markdown
## [기능명] UI/UX 구현 지시사항

### API 엔드포인트
| Method | Path | 용도 |
|--------|------|------|
| ... | ... | ... |

### Mock 동작
- [현재 mock이 어떻게 동작하는지 기술]

### 화면 구성

#### 1. [영역명]
- 설명: [무엇을 보여주는가]
- 데이터: [어떤 API/상태를 사용하는가]
- 조건: [언제 보이고 언제 숨기는가]
- 와이어프레임:
  ```
  [ASCII 와이어프레임]
  ```

#### 2. [영역명]
...

### 상태별 화면 전환
| 상태 | [영역1] | [영역2] | [영역3] |
|------|---------|---------|---------|
| ... | ... | ... | ... |

### 기술 제약
- theme.ts 토큰 사용 (raw 색상 금지)
- [추가 제약사항]
```

### 명세서 품질 체크리스트

- [ ] 모든 화면 상태가 와이어프레임으로 표현되었는가?
- [ ] 모든 버튼/액션의 동작이 명시되었는가?
- [ ] 로딩/에러/빈 상태가 모두 정의되었는가?
- [ ] API 엔드포인트와 데이터 흐름이 명시되었는가?
- [ ] 사용자 결정 사항이 모두 반영되었는가?
- [ ] 기술 제약(토큰, Tailwind, 접근성)이 명시되었는가?
- [ ] 애니메이션/전환 효과가 구체적으로 기술되었는가?

---

## 디자인 원칙 (이 프로젝트 기준)

### 정보 계층

1. **사용자가 왜 이 액션을 해야 하는지** 먼저 설명한다
2. **현재 상태**를 명확히 보여준다 (마지막 성공, 마지막 실패 등)
3. **주요 액션**은 Primary 버튼, **보조 탐색**은 Secondary 버튼 또는 텍스트 링크
4. **상세 정보**는 접힌 상태가 기본, 사용자가 원할 때 펼침

### 피드백 우선순위

| 우선순위 | 방식 | 용도 |
|---------|------|------|
| 1 | 인라인 UI 변화 | 상태 전환, 진행률 (가장 자연스러움) |
| 2 | 애니메이션 (shake, pulse) | 완료 알림, 주의 환기 |
| 3 | 배너/카드 | 결과 요약, 에러 안내 |
| 4 | 모달 | 상세 정보, 이력 조회 |
| 5 | Toast | 이 프로젝트에서는 사용 지양 |

### 버튼 규칙

| 유형 | 용도 | 구현 |
|------|------|------|
| Primary | 핵심 액션 (1개만) | `getButtonClass('primary')` |
| Secondary | 보조 액션, 탐색 | `getButtonClass('secondary')` |
| Danger | 삭제, 위험 작업 | `getButtonClass('danger')` |
| Text Link | 네비게이션, "확인하러 가기" | `primaryColors.text` + underline hover |

### 비동기 작업 표현

- 5초 미만: spinner만 (버튼 내부)
- 5초 이상: progress bar + 진행률 텍스트 ("3/7 완료")
- 상태 전환 시: 카드 shake 애니메이션 (0.5초)
- 완료 후: 결과 카드 (접힌 상태 기본)

---

## Anti-patterns (하지 말 것)

1. **사용자 확인 없이 디자인 결정하지 않는다** — 항상 선택지 제시
2. **한 번에 모든 것을 물어보지 않는다** — 3~5개씩 나누어 질문
3. **기술 용어로 질문하지 않는다** — "polling interval을 몇 초로?" ❌ → "결과 확인 주기를 5초/10초 중?" ✅
4. **와이어프레임 없이 합의하지 않는다** — 말로만 설명하면 해석 차이 발생
5. **엣지 케이스를 무시하지 않는다** — 빈 상태, 에러, 긴 목록 등 반드시 정의
6. **명세서에 모호한 표현을 쓰지 않는다** — "적절히 표시" ❌ → "statusColors.error.textDark로 빨간 뱃지" ✅
